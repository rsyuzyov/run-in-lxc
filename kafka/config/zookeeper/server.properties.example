# Apache Kafka Configuration (ZooKeeper Mode)
# Пример для single-node установки с ZooKeeper
# Документация: https://kafka.apache.org/documentation/#configuration

#############################################
# Server Basics
#############################################

# Broker ID (уникальный в кластере)
broker.id=1

#############################################
# ZooKeeper
#############################################

# ZooKeeper connection string
# Для кластера: zk1:2181,zk2:2181,zk3:2181
zookeeper.connect=localhost:2181

# ZooKeeper session timeout
zookeeper.session.timeout.ms=18000

# ZooKeeper connection timeout
zookeeper.connection.timeout.ms=18000

#############################################
# Listeners
#############################################

# Внутренние listeners
listeners=PLAINTEXT://0.0.0.0:9092

# Внешние listeners
advertised.listeners=PLAINTEXT://YOUR_HOST_IP:9092

#############################################
# Log Directories
#############################################

log.dirs=/var/lib/kafka/kafka-logs

#############################################
# Topic Defaults
#############################################

num.partitions=3
default.replication.factor=1
min.insync.replicas=1
auto.create.topics.enable=true

#############################################
# Log Retention
#############################################

log.retention.hours=168
log.retention.bytes=-1
log.segment.bytes=1073741824
log.cleanup.policy=delete
log.retention.check.interval.ms=300000

#############################################
# Performance Tuning
#############################################

num.network.threads=3
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600
num.recovery.threads.per.data.dir=1

#############################################
# Group Coordinator
#############################################

offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1
transaction.state.log.min.isr=1

